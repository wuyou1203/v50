<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Væˆ‘50ï¼Œåƒè‚¯å¾·åŸº | å¿«é€Ÿæ‰“èµï¼Œä¸€é”®è¾¾æˆå°ç›®æ ‡</title>
  <meta name="description" content="ğŸ— Væˆ‘50ï¼Œä¸€èµ·åƒè‚¯å¾·åŸºï¼æ”¯æŒå¾®ä¿¡/æ”¯ä»˜å®ï¼Œå¸¦ç»Ÿè®¡ã€ç›¸å†Œã€è¯„ä»·ã€FAQã€æš—é»‘æ¨¡å¼ç­‰è¶…å¤šå¢å¼ºåŠŸèƒ½ã€‚">
  <meta name="theme-color" content="#ef4444">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Væˆ‘50ï¼Œåƒè‚¯å¾·åŸº">
  <meta property="og:description" content="ğŸ— å¿«æ¥æ”¯æŒæˆ‘ V50 å§ï¼æ”¯æŒå¾®ä¿¡/æ”¯ä»˜å®ï¼Œå¸¦ç»Ÿè®¡ã€åŠ¨ç”»å’Œç›¸å†Œã€‚">
  <meta property="og:image" content="https://images.unsplash.com/photo-1513104890138-7c749659a591?w=1200&q=80&auto=format&fit=crop">
  <meta property="og:url" content="">
  <meta name="twitter:card" content="summary_large_image">

  <script>
    (function setInitialTheme() {
      try {
        const saved = localStorage.getItem('theme');
        const preferDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        if (saved === 'dark' || (!saved && preferDark)) {
          document.documentElement.classList.add('dark');
        }
      } catch (e) {}
    })();
  </script>

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          animation: {
            flicker: 'flicker 1.5s infinite',
            floaty: 'floaty 6s ease-in-out infinite',
            wiggle: 'wiggle 1.2s ease-in-out infinite',
          },
          keyframes: {
            flicker: {
              '0%, 100%': { opacity: 1 },
              '50%': { opacity: 0.4 },
            },
            floaty: {
              '0%, 100%': { transform: 'translateY(0)' },
              '50%': { transform: 'translateY(-10px)' }
            },
            wiggle: {
              '0%, 100%': { transform: 'rotate(-1deg)' },
              '50%': { transform: 'rotate(1deg)' }
            }
          }
        }
      }
    }
  </script>

  <style>
    body {
      background: linear-gradient(135deg, #fcffd4 0%, #e8ff18 100%);
      transition: background 0.3s ease;
    }
    .dark body {
      background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
    }
    .glass {
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
  </style>
</head>
<body id="top" class="text-gray-800 dark:text-gray-200 min-h-screen">
  <!-- é¡¶éƒ¨æ»šåŠ¨è¿›åº¦æ¡ -->
  <div class="fixed top-0 left-0 w-full h-1 bg-transparent z-50">
    <div id="scrollProgress" class="h-full bg-gradient-to-r from-rose-500 via-amber-400 to-lime-400" style="width:0%"></div>
  </div>

  <!-- å¯¼èˆª -->
  <header class="sticky top-0 z-40">
    <nav class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8">
      <div class="mt-3"></div>
      <div class="rounded-2xl glass bg-white/70 dark:bg-gray-900/50 shadow-md">
        <div class="flex items-center justify-between p-4">
          <a href="#top" class="flex items-center gap-3">
            <span class="text-2xl">ğŸ—</span>
            <span class="text-xl font-extrabold">Væˆ‘50</span>
          </a>
          <div class="hidden md:flex items-center gap-6 text-sm">
            <a href="#why" class="hover:text-rose-500">ä¸ºä»€ä¹ˆ</a>
            <a href="#stats" class="hover:text-rose-500">è¿›åº¦</a>
            <a href="#gallery" class="hover:text-rose-500">ç›¸å†Œ</a>
            <a href="#testimonials" class="hover:text-rose-500">è¯„ä»·</a>
            <a href="#faq" class="hover:text-rose-500">FAQ</a>
            <button id="navDonate" class="px-4 py-2 rounded-full bg-rose-500 hover:bg-rose-600 text-white font-semibold" onclick="openDonateModal()">Væˆ‘50</button>
            <button id="navTheme" class="px-2 py-2 rounded-lg hover:bg-black/5 dark:hover:bg-white/10" title="åˆ‡æ¢ä¸»é¢˜" onclick="toggleDarkMode()">ğŸŒ—</button>
          </div>
          <button id="menuBtn" class="md:hidden px-3 py-2 rounded-lg hover:bg-black/5 dark:hover:bg-white/10" aria-label="èœå•" onclick="toggleMobileMenu()">â˜°</button>
        </div>
        <div id="mobileMenu" class="md:hidden hidden border-t border-black/5 dark:border-white/10 p-3">
          <div class="flex flex-col gap-3 text-sm">
            <a href="#why" onclick="toggleMobileMenu(false)" class="py-2">ä¸ºä»€ä¹ˆ</a>
            <a href="#stats" onclick="toggleMobileMenu(false)" class="py-2">è¿›åº¦</a>
            <a href="#gallery" onclick="toggleMobileMenu(false)" class="py-2">ç›¸å†Œ</a>
            <a href="#testimonials" onclick="toggleMobileMenu(false)" class="py-2">è¯„ä»·</a>
            <a href="#faq" onclick="toggleMobileMenu(false)" class="py-2">FAQ</a>
            <div class="flex items-center gap-3 pt-2">
              <button class="flex-1 px-4 py-2 rounded-full bg-rose-500 hover:bg-rose-600 text-white font-semibold" onclick="openDonateModal()">Væˆ‘50</button>
              <button class="px-3 py-2 rounded-lg hover:bg-black/5 dark:hover:bg-white/10" onclick="toggleDarkMode()">ğŸŒ—</button>
            </div>
          </div>
        </div>
      </div>
    </nav>
  </header>

  <!-- å¤´å›¾åŒº -->
  <section class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 pt-10 md:pt-16 pb-12">
    <div class="grid md:grid-cols-2 items-center gap-8">
      <div>
        <h1 class="text-4xl md:text-6xl font-extrabold leading-tight">
          <span class="bg-clip-text text-transparent bg-gradient-to-r from-rose-500 via-amber-500 to-lime-500">Væˆ‘50</span>ï¼Œ
          æˆ‘ç«‹é©¬åƒè‚¯å¾·åŸºï¼
        </h1>
        <p class="mt-4 text-gray-600 dark:text-gray-400 text-lg md:text-xl">å°ç›®æ ‡ï¼Œå¤§æ»¡è¶³ï¼šä½ çš„ 50 å…ƒï¼Œè®©æˆ‘å¿«ä¹å€¼ +100ï¼æ”¯æŒå¾®ä¿¡/æ”¯ä»˜å®ï¼Œè®°å½•ç»Ÿè®¡ä¸è¿›åº¦ï¼Œè¾¾æˆå°±æœ‰æƒŠå–œå½©å¸¦ğŸ‰</p>
        <div class="mt-6 flex flex-wrap items-center gap-3">
          <button class="px-6 py-3 rounded-full bg-rose-500 hover:bg-rose-600 text-white font-bold shadow-lg" onclick="openDonateModal()">ğŸ’¸ ç«‹å³ V æˆ‘ 50</button>
          <a href="#why" class="px-6 py-3 rounded-full bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20">äº†è§£æ›´å¤š</a>
        </div>
        <div class="mt-6 text-sm text-gray-500 dark:text-gray-400">å·²æ”¯æŒ <span id="statCount" class="font-semibold">0</span> æ¬¡ï¼Œå…± <span id="statTotal" class="font-semibold">Â¥0</span></div>
      </div>
      <div class="relative">
        <img class="w-full max-w-md md:max-w-full mx-auto rounded-3xl shadow-2xl border-4 border-yellow-300 animate-floaty" src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExbDZ2dTNyMGR4bGRnOGp1Znl2cXpyMGRtaHY2MWdndWZxa2RkbjJrcCZlcD12MV9naWZzX3NlYXJjaCZjdD1n/VbnUQpnihPSIgIXuZv/giphy.gif" alt="money incoming">
        <div class="absolute -bottom-4 -right-3 bg-white/80 dark:bg-gray-800/80 glass rounded-xl px-4 py-2 text-sm shadow flex items-center gap-2">
          <span class="text-amber-500">â˜…</span> <span>ä»Šæ—¥æƒ³åƒï¼šå®æŒ‡åŸå‘³é¸¡</span>
        </div>
      </div>
    </div>
  </section>

  <!-- ä¸ºä»€ä¹ˆ -->
  <section id="why" class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 py-12">
    <div class="grid md:grid-cols-3 gap-6">
      <div class="p-6 rounded-2xl glass bg-white/70 dark:bg-gray-900/50 shadow">
        <h3 class="text-xl font-bold mb-2">å¥½åƒåˆ°è·³èˆ</h3>
        <p class="text-gray-600 dark:text-gray-400">è‚¯å¾·åŸºå¿«ä¹æŒ‡æ•°é£™å‡ï¼ŒVæˆ‘50 ç«‹åˆ»å®‰æ’ï¼Œèƒ½é‡åŠ æ»¡ï¼</p>
      </div>
      <div class="p-6 rounded-2xl glass bg-white/70 dark:bg-gray-900/50 shadow">
        <h3 class="text-xl font-bold mb-2">äº’åŠ¨æ›´æœ‰è¶£</h3>
        <p class="text-gray-600 dark:text-gray-400">æ”¯æŒå³è§¦å‘å½©å¸¦å’ŒéŸ³æ•ˆï¼Œè§è¯è¿›åº¦æ¡å‰è¿›çš„çˆ½æ„Ÿï½</p>
      </div>
      <div class="p-6 rounded-2xl glass bg-white/70 dark:bg-gray-900/50 shadow">
        <h3 class="text-xl font-bold mb-2">é€æ˜æœ‰ä»ªå¼æ„Ÿ</h3>
        <p class="text-gray-600 dark:text-gray-400">æœ¬åœ°ç»Ÿè®¡æ¬¡æ•°ä¸æ€»é¢ï¼Œè¿˜èƒ½è®¾å®šç›®æ ‡ï¼Œè¾¾æˆå°±åº†ç¥ï¼</p>
      </div>
    </div>
  </section>

  <!-- ç»Ÿè®¡ä¸è¿›åº¦ -->
  <section id="stats" class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 py-12">
    <div class="rounded-2xl glass bg-white/70 dark:bg-gray-900/50 shadow p-6">
      <div class="flex flex-wrap items-end justify-between gap-4">
        <div>
          <h2 class="text-2xl font-extrabold">å°ç›®æ ‡è¿›åº¦</h2>
          <p class="text-gray-500 dark:text-gray-400 text-sm mt-1">ç›®æ ‡é‡‘é¢ï¼š<span id="goalAmount">Â¥500</span> Â· å·²è¾¾æˆï¼š<span id="goalPercent">0%</span></p>
        </div>
        <div class="flex items-center gap-2 text-sm">
          <label for="goalInput" class="text-gray-600 dark:text-gray-400">è‡ªå®šä¹‰ç›®æ ‡</label>
          <input id="goalInput" type="number" min="50" step="50" class="w-28 rounded-lg bg-black/5 dark:bg-white/10 px-3 py-2 outline-none" placeholder="Â¥500">
          <button class="px-3 py-2 rounded-lg bg-black/80 text-white hover:bg-black dark:bg-white/20 dark:hover:bg-white/30" onclick="saveGoal()">ä¿å­˜</button>
        </div>
      </div>
      <div class="mt-4 h-3 w-full bg-black/5 dark:bg-white/10 rounded-full overflow-hidden">
        <div id="goalProgress" class="h-full bg-gradient-to-r from-rose-500 via-amber-400 to-lime-400" style="width:0%"></div>
      </div>
      <div class="mt-4 text-sm text-gray-600 dark:text-gray-400">å…±æ”¯æŒ <span id="statCount2" class="font-semibold">0</span> æ¬¡ï¼Œç´¯è®¡ <span id="statTotal2" class="font-semibold">Â¥0</span></div>
    </div>
  </section>

  <!-- æ‰“èµæ–¹å¼ -->
  <section id="contact" class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 py-12">
    <div class="grid md:grid-cols-2 gap-6 items-center">
      <div class="rounded-2xl glass bg-white/70 dark:bg-gray-900/50 shadow p-6">
        <h3 class="text-xl font-bold">å¾®ä¿¡å·</h3>
        <p class="mt-2 text-gray-600 dark:text-gray-400">ğŸ“± <span id="wx">W765029758</span></p>
        <div class="mt-3 flex gap-3">
          <button class="px-4 py-2 rounded-lg bg-green-500 hover:bg-green-600 text-white font-bold" onclick="copyWechat()">å¤åˆ¶å¾®ä¿¡å·</button>
          <button class="px-4 py-2 rounded-lg bg-rose-500 hover:bg-rose-600 text-white font-bold" onclick="openDonateModal()">å»æ‰“èµ</button>
        </div>
        <p id="copied" class="mt-2 text-sm text-green-600 hidden">âœ… å¤åˆ¶æˆåŠŸï¼å¿«å»è½¬æˆ‘~</p>
      </div>
      <div class="rounded-2xl glass bg-white/70 dark:bg-gray-900/50 shadow p-6">
        <h3 class="text-xl font-bold">äºŒç»´ç </h3>
        <div class="mt-3 flex items-center gap-4">
          <button id="tabWx" class="px-3 py-2 rounded-lg bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20" onclick="switchPay('wx')">å¾®ä¿¡</button>
          <button id="tabAli" class="px-3 py-2 rounded-lg bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20" onclick="switchPay('ali')">æ”¯ä»˜å®</button>
        </div>
        <div class="mt-4">
          <img id="qr" alt="pay qr" class="w-48 h-48 rounded-xl shadow border border-black/10 dark:border-white/10" src="https://api.qrserver.com/v1/create-qr-code/?size=220x220&data=W765029758">
          <p class="mt-2 text-xs text-gray-500 dark:text-gray-400">æ³¨ï¼šç¤ºä¾‹äºŒç»´ç ä¸ºå¾®ä¿¡å·æ–‡æœ¬äºŒç»´ç ï¼Œå¯æ›¿æ¢ä¸ºæ”¶æ¬¾ç å›¾ç‰‡ã€‚</p>
        </div>
      </div>
    </div>
  </section>

  <!-- ç›¸å†Œ -->
  <section id="gallery" class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 py-12">
    <h2 class="text-2xl font-extrabold mb-4">ç¾å‘³ç›¸å†Œ</h2>
    <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
      <img class="rounded-xl shadow object-cover aspect-[4/3]" src="https://images.unsplash.com/photo-1550547660-d9450f859349?w=800&q=80&auto=format&fit=crop" alt="kfc-1">
      <img class="rounded-xl shadow object-cover aspect-[4/3]" src="https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?w=800&q=80&auto=format&fit=crop" alt="kfc-2">
      <img class="rounded-xl shadow object-cover aspect-[4/3]" src="https://images.unsplash.com/photo-1543353071-10c8ba85a904?w=800&q=80&auto=format&fit=crop" alt="kfc-3">
      <img class="rounded-xl shadow object-cover aspect-[4/3]" src="https://images.unsplash.com/photo-1604908554027-8d7b32c4405c?w=800&q=80&auto=format&fit=crop" alt="kfc-4">
      <img class="rounded-xl shadow object-cover aspect-[4/3]" src="https://images.unsplash.com/photo-1544027993-37dbfe43562a?w=800&q=80&auto=format&fit=crop" alt="kfc-5">
      <img class="rounded-xl shadow object-cover aspect-[4/3]" src="https://images.unsplash.com/photo-1546039907-7f6a1dca9c49?w=800&q=80&auto=format&fit=crop" alt="kfc-6">
    </div>
  </section>

  <!-- è¯„ä»·è½®æ’­ -->
  <section id="testimonials" class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 py-12">
    <h2 class="text-2xl font-extrabold mb-4">é‡‘ä¸»å¥½è¯„</h2>
    <div class="rounded-2xl glass bg-white/70 dark:bg-gray-900/50 shadow p-6">
      <div id="carousel" class="relative overflow-hidden">
        <div id="carouselInner" class="whitespace-nowrap transition-transform duration-500">
          <div class="inline-block align-top w-full">
            <blockquote class="text-lg">â€œ50 èŠ±å¾—å€¼ï¼Œå½©å¸¦ä¸€æ”¾å¤ªæœ‰ä»ªå¼æ„Ÿäº†ï¼â€ â€” å°é™ˆ</blockquote>
          </div>
          <div class="inline-block align-top w-full">
            <blockquote class="text-lg">â€œè¿›åº¦æ¡å‰è¿›é‚£ä¸€ä¸‹ï¼Œçˆ½ï¼ç­‰ä½ è¾¾æˆç›®æ ‡ï½â€ â€” é˜¿ä¸œ</blockquote>
          </div>
          <div class="inline-block align-top w-full">
            <blockquote class="text-lg">â€œé¡µé¢å¥½çœ‹åˆå¥½ç©ï¼Œæˆ‘ä¹Ÿè¦åšä¸€ä¸ªï½â€ â€” Yuki</blockquote>
          </div>
        </div>
        <div class="flex justify-center gap-2 mt-4 text-xs">
          <button class="px-2 py-1 rounded bg-black/5 dark:bg-white/10" onclick="setSlide(0)">1</button>
          <button class="px-2 py-1 rounded bg-black/5 dark:bg-white/10" onclick="setSlide(1)">2</button>
          <button class="px-2 py-1 rounded bg-black/5 dark:bg-white/10" onclick="setSlide(2)">3</button>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 py-12">
    <h2 class="text-2xl font-extrabold mb-4">å¸¸è§é—®é¢˜</h2>
    <div class="space-y-3">
      <details class="rounded-xl glass bg-white/70 dark:bg-gray-900/50 shadow p-4">
        <summary class="cursor-pointer font-semibold">çœŸçš„ä¼šå»åƒè‚¯å¾·åŸºå—ï¼Ÿ</summary>
        <p class="mt-2 text-gray-600 dark:text-gray-400">å½“ç„¶ï¼å¹¶ä¸”ä¼šåœ¨è¿›åº¦è¾¾æˆåæ”¾çƒŸèŠ±å’Œå½©å¸¦åº†ç¥ï½</p>
      </details>
      <details class="rounded-xl glass bg-white/70 dark:bg-gray-900/50 shadow p-4">
        <summary class="cursor-pointer font-semibold">å¦‚ä½•æ›´æ–°äºŒç»´ç ï¼Ÿ</summary>
        <p class="mt-2 text-gray-600 dark:text-gray-400">æ›¿æ¢é¡µé¢ä¸­å›¾ç‰‡åœ°å€ä¸ºä½ çš„æ”¶æ¬¾ç å›¾ç‰‡æˆ–åŠ¨æ€äºŒç»´ç é“¾æ¥å³å¯ã€‚</p>
      </details>
      <details class="rounded-xl glass bg-white/70 dark:bg-gray-900/50 shadow p-4">
        <summary class="cursor-pointer font-semibold">æ•°æ®ä¼šä¸ä¼šä¸¢ï¼Ÿ</summary>
        <p class="mt-2 text-gray-600 dark:text-gray-400">æœ¬åœ°ä½¿ç”¨ localStorage æŒä¹…åŒ–ï¼Œæ¸…ç†æµè§ˆå™¨æ•°æ®æˆ–æ›´æ¢è®¾å¤‡ä¼šé‡ç½®ã€‚</p>
      </details>
    </div>
  </section>

  <!-- é¡µè„š -->
  <footer class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 py-12 text-sm text-gray-500 dark:text-gray-400">
    <div class="flex flex-col md:flex-row items-center justify-between gap-4">
      <p>Â© <span id="year"></span> Væˆ‘50. ç¥ä½ å¤©å¤©åƒåˆ°æƒ³åƒçš„ï¼</p>
      <div class="flex items-center gap-3">
        <button class="px-3 py-2 rounded-lg bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20" onclick="sharePage()">ğŸ”— åˆ†äº«</button>
        <a class="px-3 py-2 rounded-lg bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20" href="#top">è¿”å›é¡¶éƒ¨</a>
      </div>
    </div>
  </footer>

  <!-- æ‚¬æµ®æŒ‰é’® -->
  <div class="fixed right-4 bottom-4 z-40 flex flex-col gap-3">
    <button class="rounded-full shadow-lg px-4 py-3 bg-rose-500 hover:bg-rose-600 text-white font-bold" onclick="openDonateModal()">Væˆ‘50</button>
    <button id="backTop" class="hidden rounded-full shadow-lg w-11 h-11 flex items-center justify-center bg-black/80 text-white hover:bg-black" onclick="window.scrollTo({top:0,behavior:'smooth'})">â†‘</button>
  </div>

  <!-- æ‰“èµå¼¹çª— -->
  <div id="donateModal" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-black/50" onclick="closeDonateModal()"></div>
    <div class="relative mx-auto mt-24 max-w-md px-4">
      <div class="rounded-2xl glass bg-white/90 dark:bg-gray-900/80 shadow-xl p-6">
        <div class="flex items-start justify-between">
          <h3 class="text-xl font-extrabold">æ‰“èµæˆ‘ä¸€ä»½è‚¯å¾·åŸº</h3>
          <button class="px-3 py-1 rounded-lg hover:bg-black/5 dark:hover:bg-white/10" onclick="closeDonateModal()">âœ•</button>
        </div>
        <p class="mt-2 text-sm text-gray-600 dark:text-gray-400">é€‰æ‹©æ–¹å¼å¹¶è½¬è´¦æˆåŠŸåç‚¹å‡»â€œæˆ‘å·²è½¬è´¦â€ï¼Œæˆ‘ä¼šç«‹åˆ»æ”¾å½©å¸¦åº†ç¥ï½</p>
        <div class="mt-4 flex items-center gap-3">
          <button id="mTabWx" class="px-3 py-2 rounded-lg bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20" onclick="switchPay('wx')">å¾®ä¿¡</button>
          <button id="mTabAli" class="px-3 py-2 rounded-lg bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20" onclick="switchPay('ali')">æ”¯ä»˜å®</button>
        </div>
        <div class="mt-4 flex flex-col items-center">
          <img id="mQr" class="w-48 h-48 rounded-xl shadow border border-black/10 dark:border-white/10" alt="qr" src="https://api.qrserver.com/v1/create-qr-code/?size=220x220&data=W765029758">
          <div class="mt-4 grid grid-cols-3 gap-2 w-full">
            <button class="px-3 py-2 rounded-lg bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20" onclick="setAmount(20)">Â¥20</button>
            <button class="px-3 py-2 rounded-lg bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20" onclick="setAmount(50)">Â¥50</button>
            <button class="px-3 py-2 rounded-lg bg-black/5 dark:bg-white/10 hover:bg-black/10 dark:hover:bg-white/20" onclick="setAmount(100)">Â¥100</button>
          </div>
          <div class="mt-3 w-full flex items-center gap-2">
            <input id="amountInput" type="number" min="1" class="flex-1 rounded-lg bg-black/5 dark:bg-white/10 px-3 py-2 outline-none" value="50">
            <button class="px-4 py-2 rounded-lg bg-green-500 hover:bg-green-600 text-white font-bold" onclick="copiedPay()">å¤åˆ¶é‡‘é¢</button>
          </div>
          <button class="mt-4 px-5 py-3 rounded-full bg-rose-500 hover:bg-rose-600 text-white font-extrabold w-full" onclick="confirmPaid()">âœ… æˆ‘å·²è½¬è´¦</button>
        </div>
      </div>
    </div>
  </div>

  <!-- éŸ³æ•ˆ & å½©å¸¦ -->
  <audio id="sound" src="https://assets.mixkit.co/sfx/preview/mixkit-cash-register-purchase-852.mp3"></audio>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

  <script>
    const store = {
      keyCount: 'v50.count',
      keyTotal: 'v50.total',
      keyGoal: 'v50.goal',
      keyTheme: 'theme'
    };

    function $(id) { return document.getElementById(id); }

    function initStats() {
      const count = parseInt(localStorage.getItem(store.keyCount) || '0', 10);
      const total = parseInt(localStorage.getItem(store.keyTotal) || '0', 10);
      const goal = parseInt(localStorage.getItem(store.keyGoal) || '500', 10);
      updateStatsUI(count, total, goal);
    }

    function updateStatsUI(count, total, goal) {
      // é¡¶éƒ¨ hero
      $('statCount').textContent = String(count);
      $('statTotal').textContent = `Â¥${total}`;
      // stats åŒºåŸŸ
      $('statCount2').textContent = String(count);
      $('statTotal2').textContent = `Â¥${total}`;
      $('goalAmount').textContent = `Â¥${goal}`;
      const percent = Math.min(100, Math.round((total / goal) * 100));
      $('goalPercent').textContent = `${percent}%`;
      $('goalProgress').style.width = `${percent}%`;
      $('goalInput').value = String(goal);
    }

    function saveGoal() {
      const val = parseInt(($('goalInput').value || '0'), 10);
      if (val > 0) {
        localStorage.setItem(store.keyGoal, String(val));
        const count = parseInt(localStorage.getItem(store.keyCount) || '0', 10);
        const total = parseInt(localStorage.getItem(store.keyTotal) || '0', 10);
        updateStatsUI(count, total, val);
      }
    }

    function openDonateModal() {
      $('donateModal').classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }

    function closeDonateModal() {
      $('donateModal').classList.add('hidden');
      document.body.style.overflow = '';
    }

    function switchPay(type) {
      const wxUrl = 'https://api.qrserver.com/v1/create-qr-code/?size=220x220&data=W765029758';
      const aliUrl = 'https://api.qrserver.com/v1/create-qr-code/?size=220x220&data=ALIPAY:VME50';
      const url = type === 'ali' ? aliUrl : wxUrl;
      const els = ['qr','mQr'];
      els.forEach(id => { const el = $(id); if (el) el.src = url; });
      ['tabWx','mTabWx'].forEach(id => { const el = $(id); if (el) el.classList.toggle('bg-rose-500', type==='wx'); if (el) el.classList.toggle('text-white', type==='wx'); });
      ['tabAli','mTabAli'].forEach(id => { const el = $(id); if (el) el.classList.toggle('bg-rose-500', type==='ali'); if (el) el.classList.toggle('text-white', type==='ali'); });
    }

    function setAmount(v) {
      $('amountInput').value = String(v);
    }

    function copiedPay() {
      const v = $('amountInput').value || '50';
      navigator.clipboard.writeText(v).then(() => showToast(`å·²å¤åˆ¶é‡‘é¢ï¼šÂ¥${v}`));
    }

    function confirmPaid() {
      const sound = $('sound');
      try { sound.currentTime = 0; sound.play(); } catch(e){}
      const add = parseInt(($('amountInput').value || '50'), 10);
      const count = parseInt(localStorage.getItem(store.keyCount) || '0', 10) + 1;
      const total = parseInt(localStorage.getItem(store.keyTotal) || '0', 10) + add;
      localStorage.setItem(store.keyCount, String(count));
      localStorage.setItem(store.keyTotal, String(total));
      const goal = parseInt(localStorage.getItem(store.keyGoal) || '500', 10);
      updateStatsUI(count, total, goal);
      fireConfetti();
      closeDonateModal();
      showToast('æ”¶åˆ°ï¼è°¢è°¢é‡‘ä¸»ï½');
    }

    function copyWechat() {
      const wx = $('wx').textContent;
      navigator.clipboard.writeText(wx).then(() => {
        $('copied').classList.remove('hidden');
        showToast('å¾®ä¿¡å·å·²å¤åˆ¶');
      });
    }

    function toggleDarkMode() {
      const root = document.documentElement;
      const willDark = !root.classList.contains('dark');
      root.classList.toggle('dark', willDark);
      try { localStorage.setItem(store.keyTheme, willDark ? 'dark' : 'light'); } catch(e){}
    }

    function toggleMobileMenu(force) {
      const menu = $('mobileMenu');
      if (typeof force === 'boolean') {
        menu.classList.toggle('hidden', !force);
      } else {
        menu.classList.toggle('hidden');
      }
    }

    function sharePage() {
      const title = 'Væˆ‘50ï¼Œåƒè‚¯å¾·åŸºï¼';
      const text = 'æ¥æ”¯æŒæˆ‘å°ç›®æ ‡å§ï½ æ”¯æŒå³æ”¾å½©å¸¦ğŸ‰';
      const url = location.href;
      if (navigator.share) {
        navigator.share({ title, text, url }).catch(()=>{});
      } else {
        navigator.clipboard.writeText(url);
        showToast('é“¾æ¥å·²å¤åˆ¶ï¼Œå¿«å»åˆ†äº«å§');
      }
    }

    function fireConfetti() {
      if (typeof confetti !== 'function') return;
      const defaults = { spread: 360, ticks: 80, gravity: 0.7, decay: 0.94, startVelocity: 30 }; 
      confetti(Object.assign({ particleCount: 80, origin: { y: 0.6 } }, defaults));
      confetti(Object.assign({ particleCount: 120, origin: { y: 0.6 } }, defaults));
    }

    function showToast(msg) {
      let t = $('toast');
      if (!t) {
        t = document.createElement('div');
        t.id = 'toast';
        t.className = 'fixed left-1/2 -translate-x-1/2 bottom-6 z-50 px-4 py-2 rounded-full bg-black/80 text-white text-sm shadow';
        document.body.appendChild(t);
      }
      t.textContent = msg;
      t.style.opacity = '1';
      setTimeout(() => { t.style.opacity = '0'; }, 1800);
    }

    function onScroll() {
      const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
      const docHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      const percent = docHeight > 0 ? (scrollTop / docHeight) * 100 : 0;
      $('scrollProgress').style.width = `${percent}%`;
      $('backTop').classList.toggle('hidden', scrollTop < 300);
    }

    // è¯„ä»·è½®æ’­
    let currentSlide = 0;
    function setSlide(i) {
      currentSlide = i % 3;
      const inner = $('carouselInner');
      if (inner) inner.style.transform = `translateX(-${currentSlide * 100}%)`;
    }
    setInterval(() => setSlide((currentSlide + 1) % 3), 5000);

    // åˆå§‹åŒ–
    window.addEventListener('scroll', onScroll, { passive: true });
    window.addEventListener('load', () => {
      $('year').textContent = new Date().getFullYear();
      initStats();
      onScroll();
      switchPay('wx');
    });
  </script>
</body>
</html>
